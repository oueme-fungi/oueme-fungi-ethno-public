# oueme-fungi-ethno-public

This repository contains data and analysis scripts for
'Comparison of wild mushroom use by ethnic groups surrounding the Upper Ouémé Reserve Forest in Benin, West Africa',
currently under submission at [PLOS ONE](https://journals.plos.org/plosone/).

Data files are in the directory "`data`", and analysis scripts as R markdown files are
in the directory "`R`".
Generated output files (which may be overwritten if you run the scripts yourself) are in the directory "`output`"

The project uses [packrat](https://rstudio.github.io/packrat/) to manage R package dependencies.
To ensure reproducability, the source code for all packages used is included in the "`packrat/src`" directory<sup id="a1">[1](#f1)</sup>, and will be automatically installed in "`packrat/lib`" when R is run from the main project directory.
This has been tested on Linux and should also work on Mac OS.
Windows users need to install [Rtools](https://cran.r-project.org/bin/windows/Rtools/history.html) to be able to install R packages from source code.
All analysis for the paper was performed using R version 3.5.1.
Later versions will probably also work, but this is not guaranteed.

To perform the analysis, open the project in [R Studio](https://www.rstudio.com), then open and knit (CTRL+SHIT+K) `R/1_data.Rmd`, followed by `R/2_analysis.Rmd`.
The resulting file `2_analysis.pdf`<sup id="a2">[2](#f2)</sup> is S1 Appendix for the paper, which includes all the figures and statistics from the main text, as well as the supplementary figures, as well as the R code to generate them.

A more user-friendly HTML version of the appendix can be generated by using the R Studio knit menu to "knit to html_document2", and is included here as [`output/2_analysis.html`](output/2_analysis.html).
This version features a navigation bar on the left side, and automatically collapses the R code blocks to make the Appendix easier to read.
Unfortunately, in the HTML version, the figures and tables are automatically numbered by section , and not by capital letters (e.g., Figure 4.4 instead of Figure J), so they do not match the references from the main document.
Please refer to the official PDF version of the Appendix for the correct figure and table numbers.

<b id="f1">1</b> source code for these packages is included unmodified and under their own licenses, for the purpose of ensuring availability.  [↩](#a1)

<b id="f2">2</b> example in `output/2_analysis.pdf`, but if you run it youself it will be generated in `R/2_analysis.pdf` [↩](#a2)